<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Презентация</title>
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  <script src="https://unpkg.com/htmx-ext-client-side-templates@2.0.0/client-side-templates.js"></script>
  <script src="https://unpkg.com/mustache@latest"></script>
</head>
<body>
<div id="content">
  <h1>Загрузка</h1>
</div>
<template id="person-template">
  <h1>{{name}}</h1>
  <p>{{description}}</p>
  <iframe src="https://docs.google.com/presentation/d/e/{{link}}/pubembed?start=false&loop=false&delayms=10000" frameborder="0" width="320" height="195" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
  <p>Выступающие: </p>
  {{#speakers}}
  <a href="./speaker?id={{id}}">
    <h3>{{name}}</h3>
  </a>
  {{/speakers}}
  {{^speakers}}<p>Спикеры этой лекции не предусмотрены</p>{{/speakers}}

</template>

<div id="results" hx-get="https://hopeful-compassion-dc535509c0.strapiapp.com/api/presentation"  hx-trigger="load" hx-swap="innerHTML"
     hx-vals='js:{id: new URLSearchParams(window.location.search).get("id")}'
     hx-target="#content"
     hx-ext="client-side-templates"
     mustache-template="person-template">
</div>


</body>
</html>
